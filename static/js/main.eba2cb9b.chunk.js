(window["webpackJsonpveriff-tmdb-clone"]=window["webpackJsonpveriff-tmdb-clone"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(12),l=a(18),m=a(6),s=a.n(m),u=(a(56),function(){return r.a.createElement("div",{className:"vmdb-header"},r.a.createElement("div",{className:"vmdb-header-content"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{className:"vmdb-logo",src:"/logo_transparent.png",alt:"vmdb-logo"})),r.a.createElement(s.a,{onClick:function(){JSON.parse(localStorage.getItem("favorites"))},className:"fa-heart",name:"heart",size:"5x"})))}),v=a(24),d=a(11),f=a(13),g=a(14),h=a(16),p=a(15),b=a(17),E=a(42),y="https://api.themoviedb.org/3/",w="687f4af88c405c0b881295bba3d4adfc",N="https://image.tmdb.org/t/p/",k=(a(59),function(e){e.image,e.title,e.text;return r.a.createElement("div",{className:"vmdb-heroimage",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0)\n        39%,rgba(0,0,0,0)\n        41%,rgba(0,0,0,0.65)\n        100%),\n        url('".concat("https://i.imgur.com/fXys3AT.jpg","'), #1c1c1c")}},r.a.createElement("div",{className:"vmdb-heroimage-content"},r.a.createElement("div",{className:"vmdb-heroimage-welcome"},r.a.createElement("h1",{className:"vmdb-heroimage-welcome-text"},"Welcome")),r.a.createElement("div",{className:"vmdb-heroimage-text"},r.a.createElement("h1",null,"Millions of Movies, TV Shows and people to discover. Explore Now."))))}),O=(a(60),function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.timeout=null,a.doSearch=function(e){var t=a.props.callback;a.setState({value:e.target.value}),clearTimeout(a.timeout),a.timeout=setTimeout((function(){t(a.state.value)}),500)},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("div",{className:"vmdb-searchbar"},r.a.createElement("div",{className:"vmdb-searchbar-content"},r.a.createElement(s.a,{className:"vmdb-fa-search",name:"search",size:"2x"}),r.a.createElement("input",{type:"text",className:"vmdb-searchbar-input",placeholder:"Search for a movie...",onChange:this.doSearch,value:e})))}}]),t}(n.Component)),j=(a(61),function(e){var t=e.header,a=e.loading,n=e.children;return r.a.createElement("div",{className:"vmdb-grid"},t&&!a?r.a.createElement("h1",{style:{color:"white"}},t):null,r.a.createElement("div",{className:"vmdb-grid-content"},n.map((function(e,t){return r.a.createElement("div",{key:t,className:"vmdb-grid-element"},e)}))))}),S=a(26),_=a(25),I=a.n(_),T=(a(64),function(e){var t=e.noRating,a=e.movies,c=e.movieAverage,o=e.releaseDate,l=e.image,m=e.movieId,u=e.movieName,v=e.clickable,d=e.styled,f=Object(n.useState)({}),g=Object(S.a)(f,2),h=g[0],p=g[1];return console.log(h),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"white"}},"click here"),r.a.createElement("div",{className:"vmdb-moviethumb",style:d},t?null:r.a.createElement("div",{className:"thumb-rating-container"},r.a.createElement(s.a,{onClick:function(){return function(e,t,a){p({movieId:e,movieName:t,image:a})}(m,u,l)},className:"fa-heart",name:"heart",size:"2x"}),r.a.createElement("p",null,c)),v?r.a.createElement(i.b,{to:{pathname:"/".concat(m),movieName:"".concat(u),movies:"".concat(a)}},r.a.createElement("img",{className:"clickable",src:l,alt:"moviethumb"})):r.a.createElement("img",{src:l,alt:"moviethumb"}),r.a.createElement("div",{style:{flexWrap:"nowrap"}},r.a.createElement("h4",null,u),r.a.createElement("h6",null,r.a.createElement(I.a,{format:"MMM Do YYYY"},o)))))}),x=(a(65),function(e){var t=e.text,a=e.onClick;return r.a.createElement("div",{className:"vmdb-loadmorebtn",onClick:a},r.a.createElement("p",null,t))}),P=(a(66),function(){return r.a.createElement("div",{className:"loader"})}),C=a(43),D=a(4),M=a.n(D),F=(a(67),a(69),a(44)),R=a.n(F),U=a(45),A=a.n(U),z=a(27),L=a.n(z),W=a(32),Y=a.n(W),H=(a(92),a(93),a(94),function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],dayMovies:[],weekMovies:[],heroImage:null,loading:!1,currentPage:0,totalPages:0,searchTerm:"",enabled:a.enabledFromProps()},a.onSelect=function(e){a.setState({selected:e})},a.isEnabled=function(){return a.state.enabled},a.toggleSwitch=function(e){e.persist(),e.preventDefault();var t=a.props,n=t.onClick,r=t.onStateChanged;a.setState({enabled:!a.state.enabled},(function(){var t=a.state,c=Object.assign(e,{SWITCH_STATE:t});L()(n)&&n(c),L()(r)&&r(t)}))},a.fetchTodayItems=function(e){var t=a.state,n=t.dayMovies,r=t.heroImage;fetch(e).then((function(e){return e.json()})).then((function(e){a.setState({dayMovies:[].concat(Object(d.a)(n),Object(d.a)(e.results)),heroImage:r||e.results[0],loading:!1,currentPage:e.page,totalPages:e.total_pages})})).catch((function(e){return console.error("Error:",e)}))},a.fetchWeekItems=function(e){var t=a.state.weekMovies;fetch(e).then((function(e){return e.json()})).then((function(e){a.setState({weekMovies:[].concat(Object(d.a)(t),Object(d.a)(e.results)),loading:!1,currentPage:e.page,totalPages:e.total_pages})})).catch((function(e){return console.error("Error:",e)}))},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e="".concat(y,"trending/all/day?api_key=").concat(w,"&language=en-US&page=1");this.fetchTodayItems(e);var t="".concat(y,"trending/all/week?api_key=").concat(w,"&language=en-US&page=1");this.fetchWeekItems(t)}},{key:"enabledFromProps",value:function(){var e=this.props.enabled;return e=L()(e)?e():e,A()(e)&&e}},{key:"render",value:function(){var e=this.state,t=e.dayMovies,a=e.weekMovies,n=e.enabled,c=window.innerWidth,o=this.props,i=(o.enabled,o.theme),l=(o.onClick,o.className),m=(o.onStateChanged,Object(C.a)(o,["enabled","theme","onClick","className","onStateChanged"])),s=i&&R()(i)?i:"default",u=M()("switch switch--".concat(s),l),v=M()("switch-toggle","switch-toggle--".concat(n?"on":"off")),d={className:"slider",infinite:!0,speed:500,slidesToShow:c<="768"?2:6,slidesToScroll:c<="768"?1:5,centerPadding:"100px",lazyLoad:"onDemand",onSwipe:null};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginBottom:30,alignItems:"center"}},r.a.createElement("div",{style:{marginLeft:20,color:"white"}},"Today"),r.a.createElement("div",{style:{marginLeft:10,marginRight:5}},r.a.createElement("div",Object.assign({className:u,onClick:this.toggleSwitch},m),r.a.createElement("div",{className:v}))),r.a.createElement("div",{style:{marginLeft:10,color:"white"}},"This Week")),r.a.createElement("p",{style:{color:"white"}}),r.a.createElement("div",{className:"vmdb-slider-container"},n?r.a.createElement(Y.a,d,t.map((function(e,t){return r.a.createElement(T,{styled:{marginRight:15,marginLeft:15},key:t,clickable:!0,image:e.poster_path?"".concat(N).concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieAverage:e.vote_average,movieName:e.original_title})}))):r.a.createElement(Y.a,d,a.map((function(e,t){return r.a.createElement(T,{styled:{marginRight:15,marginLeft:15},key:t,clickable:!0,image:e.poster_path?"".concat(N).concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieAverage:e.vote_average,movieName:e.original_title})})))))}}]),t}(n.Component));a(95);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var B=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).addToFav=function(){a.setState({addToFav:!a.state.addToFav},(function(){return console.log(a.state.addToFav)}))},a.searchItems=function(e){var t="";a.setState({movies:[],loading:!0,searchTerm:e}),t=""===e?"".concat(y,"movie/popular?api_key=").concat(w,"&language=en-US&page=1"):"".concat(y,"search/movie?api_key=").concat(w,"&language=en-US&query=").concat(e),a.fetchItems(t)},a.loadMoreItems=function(){var e=a.state,t=e.searchTerm,n=e.currentPage,r="";a.setState({loading:!0}),r=""===t?"".concat(y,"movie/popular?api_key=").concat(w,"&language=en-US&page=").concat(n+1):"".concat(y,"search/movie?api_key=").concat(w,"&language=en-US&query=").concat(t,"&page=").concat(n+1),a.fetchItems(r)},a.fetchItems=function(e){var t=a.state,n=t.movies,r=t.heroImage,c=t.searchTerm;fetch(e).then((function(e){return e.json()})).then((function(e){a.setState({movies:[].concat(Object(d.a)(n),Object(d.a)(e.results)),heroImage:r||e.results[0],loading:!1,currentPage:e.page,totalPages:e.total_pages},(function(){""===c&&sessionStorage.setItem("HomeState",JSON.stringify(a.state))}))})).catch((function(e){return console.error("Error:",e)}))},a.state={movies:[],heroImage:null,loading:!1,currentPage:0,totalPages:0,searchTerm:"",list:[],addToFav:!1},a.list=[],a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){if(sessionStorage.getItem("HomeState")){var e=JSON.parse(sessionStorage.getItem("HomeState"));this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))}else{this.setState({loading:!0});var t="".concat(y,"movie/popular?api_key=").concat(w,"&language=en-US&page=1");this.fetchItems(t)}}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.heroImage,n=e.loading,c=e.currentPage,o=e.totalPages,i=e.searchTerm;return console.log("state",this.state),console.log("dsadasd",this.context.addToFav),r.a.createElement("div",{className:"vmdb-home"},a?r.a.createElement("div",null,r.a.createElement(k,{image:"".concat(N).concat("w1280").concat(a.backdrop_path),title:a.original_title,text:a.overview}),r.a.createElement(O,{callback:this.searchItems})):null,i?null:r.a.createElement("div",{className:"vmdb-trending-container"},r.a.createElement("h1",{style:{color:"white",marginLeft:20}},"Trending"),r.a.createElement(H,null)),r.a.createElement("div",{className:"vmdb-home-grid"},r.a.createElement(j,{header:i?"Search Result":"Popular Movies",loading:n},t.map((function(e,a){return r.a.createElement(T,{movies:t,key:a,clickable:!0,image:e.poster_path?"".concat(N).concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title,movieAverage:e.vote_average,releaseDate:e.release_date})}))),n?r.a.createElement(P,null):null,c<=o&&!n?r.a.createElement(x,{text:"Load More",onClick:this.loadMoreItems}):null))}}]),t}(n.Component);B.contextType=E.FavContext;var V=B,q=a(21),G=a.n(q),K=a(33),X=(a(97),function(e){var t=e.movie;return r.a.createElement("div",{className:"vmdb-navigation"},r.a.createElement("div",{className:"vmdb-navigation-content"},r.a.createElement(i.b,{to:"/"},r.a.createElement("p",null,"Home")),r.a.createElement("p",null,"/"),r.a.createElement("p",null,t)))}),Q=a(46),Z=a.n(Q),$=a(20),ee=a(34),te=(a(98),a(99),function(e){var t=e.movie,a=e.directors,c=(e.genres,e.ratingTypes,e.ratingInfo),o=Object(n.useState)(!1),i=Object(S.a)(o,2),l=i[0],m=i[1],u=function(){return m(!1)},v=function(){return m(!0)},d=Z()({apiKey:"394b1f03-204c-449c-bb45-98cc44ceabdb",parentId:"veriff-root",onSession:function(e,t){}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"vmdb-movieinfo",style:{background:t.backdrop_path?"url('".concat(N).concat("w1280").concat(t.backdrop_path,"')"):"#000"}},r.a.createElement("div",{className:"vmdb-movieinfo-content"},r.a.createElement("div",{className:"vmdb-movieinfo-thumb thumbTwo"},r.a.createElement(T,{noRating:!0,image:t.poster_path?"".concat(N).concat("w500").concat(t.poster_path):"./images/no_image.jpg",clickable:!1})),r.a.createElement("div",{className:"vmdb-movieinfo-text"},r.a.createElement("h1",null,t.title," - (",r.a.createElement(I.a,{format:"YYYY"},t.release_date),")"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},t.genres.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",{style:{color:"#71acb1"},key:t,className:"vmdb-director"},e.name))}))),r.a.createElement("h3",null,"Overview"),r.a.createElement("p",null,t.overview),r.a.createElement("h3",null,"IMDB RATING"),r.a.createElement("div",{className:"vmdb-rating"},r.a.createElement("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*t.vote_average}),r.a.createElement("p",{className:"vmdb-score"},t.vote_average)),a.length>1?r.a.createElement("h3",null,"DIRECTORS"):r.a.createElement("h3",null,"DIRECTOR"),a.map((function(e,t){return r.a.createElement("p",{key:t,className:"vmdb-director"},e.name)}))),c&&"R"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"rating-container"},r.a.createElement("p",null,"This movie is rated:"," ",r.a.createElement("span",{className:"rating-span"},c),". ",r.a.createElement("br",null)," To watch this movie or its previews, you must first verify your age."),r.a.createElement("button",{onClick:v},r.a.createElement(s.a,{className:"fa-film",name:"lock",size:"5x",onClick:v}),r.a.createElement("p",{className:"continue",style:{color:"white",marginLeft:10}},"Click to Verify")))):r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(t.id,"-deadpool/watch")},r.a.createElement(s.a,{className:"fa-film",name:"film",size:"5x"}))),r.a.createElement($.a,{show:l,onHide:u},r.a.createElement($.a.Header,{closeButton:!0},r.a.createElement($.a.Title,null,r.a.createElement("span",{role:"img","aria-label":"lock emoji"},"\ud83d\udd10"),"Age Verification")),r.a.createElement($.a.Body,null,r.a.createElement("p",null,"To protect vulnerable users, we kindly ask that you verify that you meet the age requirement for this movie."),r.a.createElement("p",{style:{marginTop:10}},"To continue press 'Verify' and you will be re-directed to our third party verification partner, Veriff to complete the required steps.",r.a.createElement("span",{role:"img","aria-label":"rocket emoji"},"\ud83d\ude80")),r.a.createElement("div",{id:"veriff-root"})),r.a.createElement($.a.Footer,null,r.a.createElement(ee.a,{variant:"secondary",onClick:u},"Cancel"),r.a.createElement(ee.a,{variant:"primary",onClick:function(){return d.mount()}},"Verify")))))}),ae=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)},ne=(a(100),function(e){var t=e.time,a=e.budget,n=e.revenue;return r.a.createElement("div",{className:"vmdb-movieinfobar"},r.a.createElement("div",{className:"vmdb-movieinfobar-content"},r.a.createElement("div",{className:"vmdb-movieinfobar-content-col"},r.a.createElement(s.a,{className:"fa-time",name:"clock-o",size:"2x"}),r.a.createElement("span",{className:"vmdb-movieinfobar-info"},"Running time: ",function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(t))),r.a.createElement("div",{className:"vmdb-movieinfobar-content-col"},r.a.createElement(s.a,{className:"fa-budget",name:"money",size:"2x"}),r.a.createElement("span",{className:"vmdb-movieinfobar-info"},"Budget: ",ae(a))),r.a.createElement("div",{className:"vmdb-movieinfobar-content-col"},r.a.createElement(s.a,{className:"fa-revenue",name:"ticket",size:"2x"}),r.a.createElement("span",{className:"vmdb-movieinfobar-info"},"Revenue: ",ae(n)))))}),re=(a(101),function(e){var t=e.actor;return r.a.createElement("div",{className:"vmdb-actor"},r.a.createElement("img",{src:t.profile_path?"".concat(N).concat("w154").concat(t.profile_path):"./images/no_image.jpg",alt:"actorthumb"}),r.a.createElement("span",{className:"vmdb-actor-name"},t.name),r.a.createElement("span",{className:"vmdb-actor-character"},t.character))});a(102);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var oe=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={movie:null,actors:null,directors:[],loading:!1,releaseData:[],favorites:[]},a.addFavorite=function(e){a.state.favorites.some((function(t){return t.id==e.id}))||a.setState({favorites:[].concat(Object(d.a)(a.state.favorites),[e])})},a.fetchReleaseData=function(){var e=Object(K.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.results.filter((function(e){return"US"===e.iso_3166_1}));a.setState({loading:!1,UsRating:t,releaseData:t[0].release_dates[0].certification})})).catch((function(e){return console.error("Error:",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchItems=function(){var e=Object(K.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.match.params.movieId,e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){e.status_code?a.setState({loading:!1}):a.setState({movie:e},(function(){var e="".concat(y,"movie/").concat(n,"/credits?api_key=").concat(w);fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.crew.filter((function(e){return"Director"===e.job}));a.setState({actors:e.cast,genres:e.genres,directors:t,loading:!1},(function(){localStorage.setItem("".concat(n),JSON.stringify(a.state))}))}))}))})).catch((function(e){return console.error("Error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.movieId,t="".concat(y,"movie/").concat(e,"/release_dates?api_key=").concat(w,"&language=en-US");if(this.fetchReleaseData(t),localStorage.getItem("".concat(e))){var a=JSON.parse(localStorage.getItem("".concat(e)));this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a))}else{this.setState({loading:!0});var n="".concat(y,"movie/").concat(e,"?api_key=").concat(w,"&language=en-US");this.fetchItems(n)}}},{key:"render",value:function(){var e=this.props.location.movieName,t=this.state,a=t.movie,n=t.directors,c=t.actors,o=t.loading,i=t.releaseData;return r.a.createElement("div",{className:"vmdb-movie"},a?r.a.createElement("div",null,r.a.createElement(X,{movie:e}),r.a.createElement(te,{movie:a,directors:n,ratingInfo:i}),r.a.createElement(ne,{time:a.runtime,budget:a.budget,revenue:a.revenue})):null,c?r.a.createElement("div",{className:"vmdb-movie-grid"},r.a.createElement(j,{header:"Actors"},c.map((function(e,t){return r.a.createElement(re,{key:t,actor:e})})))):null,c||o?null:r.a.createElement("h1",null,"No movie found"),o?r.a.createElement(P,null):null)}}]),t}(n.Component),ie=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Whooops. This page doesn't exist"))},le=function(){return r.a.createElement(i.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",component:V,exact:!0}),r.a.createElement(l.a,{path:"/:movieId",component:oe,exact:!0}),r.a.createElement(l.a,{component:ie}))))};a(103);o.a.render(r.a.createElement(le,null),document.getElementById("root"))},42:function(e,t){},48:function(e,t,a){e.exports=a(104)},56:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.eba2cb9b.chunk.js.map